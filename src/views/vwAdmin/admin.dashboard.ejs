<!-- Bootstrap Icons -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet" />
<!-- Bootstrap Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<div class="w-100">
  <div class="row">
    <div class="col-lg-12">
      <!-- Approved Articles Table -->
      <h2 class="section-title">Approved Articles</h2>
      <div class="table-fixed-height" style="max-height: 650px; overflow-y: auto;">
        <div class="table-responsive">
          <table class="table table-bordered table-hover">
            <thead class="position-sticky top-0">
              <tr class="bg-primary text-white">
                <th style="width: 3%">ID</th>
                <th style="width: 10%">Thumbnail</th>
                <th style="width: 20%">Title</th>
                <th style="width: 7%">Category</th>
                <th style="width: 5%">Status</th>
                <th style="width: 10%">Publish Date</th>
                <th style="width: 5%">Premium</th>
                <th style="width: 7%">Writer</th>
                <th style="width: 7%">Editor</th>
              </tr>
            </thead>
            <tbody>
              <% approvedArticles.forEach(article => { %>
              <tr>
                <td><%= article.article_id %></td>
                <td><img src="img/<%= article.thumbnail %>" class="img-thumbnail" alt="Thumbnail" /></td>
                <td><%= article.title %></td>
                <td><%= article.category_name %></td>
                <td><span class="badge bg-success"><%= article.status %></span></td>
                <td><%= new Date(article.published_date).toLocaleDateString("vi-VN") %></td>
                <td><span class="badge bg-<%= article.is_premium ? 'warning' : 'secondary' %>"> <%= article.is_premium ? 'Yes' : 'No' %> </span></td>
                <td><%= article.writer_name %></td>
                <td><%= article.editor_name %></td>
              </tr>
              <% }); %>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Separator -->
      <hr class="border border-2 border-primary my-4" />

      <!-- Pending Articles Table -->
      <h2 class="section-title">Pending Articles</h2>
      <div class="table-fixed-height">
        <div class="table-responsive">
          <table class="table table-bordered table-hover table-fixed-header">
            <thead>
              <tr class="bg-warning text-dark">
                <th style="width: 3%">ID</th>
                <th style="width: 10%">Thumbnail</th>
                <th style="width: 20%">Title</th>
                <th style="width: 7%">Category</th>
                <th style="width: 5%">Status</th>
                <th style="width: 5%">Premium</th>
                <th style="width: 7%">Writer</th>
                <th style="width: 7%">Editor</th>
                <th style="width: 10%">Option</th>
              </tr>
            </thead>
            <tbody>
              <% pendingArticles.forEach(article => { %>
              <tr>
                <td><%= article.article_id %></td>
                <td><img src="img/<%= article.thumbnail %>" class="img-thumbnail" alt="Thumbnail" /></td>
                <td><%= article.title %></td>
                <td><%= article.category_id %></td>
                <td><span class="badge bg-warning text-dark"><%= article.status %></span></td>
                <td><span class="badge bg-<%= article.is_premium ? 'warning' : 'secondary' %>"> <%= article.is_premium ? 'Yes' : 'No' %> </span></td>
                <td><%= article.writer_name %></td>
                <td><%= article.editor_name %></td>
                <td>
                  <a href="/admin/publish?id=<%= article.article_id %>" 
                    class="btn btn-primary btn-sm" 
                    role="button"
                    onclick="return confirm('Are you sure you want to publish this article?')">
                   Publish Now
                 </a>
                </td>
              </tr>
              <% }); %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
